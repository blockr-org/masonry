(()=>{"use strict";Shiny;const a=t=>n=>t>n?[]:[t,...a(t+1)(n)],t=a=>n=>{return n<=0?"":(s=(e=a).at((r=e.length,Math.floor(Math.random()*r))),String.fromCharCode(s)+t(a)(n-1));var e,r,s},n=t([...a(48)(57),...a(65)(90),...a(97)(122)]),e=(a,t)=>{t&&0!==Object.keys(t).length||(t=JSON.parse($(a).find("script").text())),t.group||(t.group=n(20)),r(a,t),d(a,t),((a,t)=>{$(a).find(".masonry-item").on("mouseup",(a=>{$(a.target).trigger("resize")}))})(a)},r=(a,t)=>{$(a).find(".masonry-row").each(((a,n)=>{s(n,t)}))},s=(a,t)=>{const n=$(a).data("masonry-minheight");$(a).css("min-height",n);const e=$(a).data("masonry-height");e&&$(a).css("height",e),$(a).attr("id",t.group),m(a,t),i(a,t),d(a,t)},i=(a,t)=>{$(a).find(".masonry-item").each(((a,n)=>{o(n,t)}))},o=(a,t)=>{t.padding&&$(a).css("padding",t.padding),t.margin&&$(a).css("margin",t.margin);let e=$(a).data("masonry-width");e||(e=20),$(a).css("width",`${e}%`);let r=n(20);$(a).attr("id",r)},d=(a,t)=>{let n={multiDrag:!1,selectedClass:"masonry-selected",fallbackTolerance:2,animation:150,swap:!1};t.group&&(n.group=t.group),new Sortable(a,n)},m=(a,t)=>{let n=[];$(a).find(".masonry-item").each(((a,t)=>{n.push($(t).data("masonry-width")||.2)}));let e=n.reduce(((a,t)=>a+t));if(e<100){let t=100-e;$(a).find(".masonry-item").last().data("masonry-width",n[n.length-1]+t)}let r=e-100;$(a).find(".masonry-item").last().data("masonry-width",n[n.length-1]-r)};jQuery.fn.extend({masonry:function(){var a;a={},$(this).find(".masonry-main").each(((t,n)=>{e(n,a)}))}}),$((()=>{$(document).masonry()})),Shiny.addCustomMessageHandler("masonry-init",(a=>{$(`#${a.target}`).masonry()}))})();