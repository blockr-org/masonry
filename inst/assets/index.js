(()=>{"use strict";Shiny;const a=t=>e=>t>e?[]:[t,...a(t+1)(e)],t=a=>e=>{return e<=0?"":(s=(n=a).at((r=n.length,Math.floor(Math.random()*r))),String.fromCharCode(s)+t(a)(e-1));var n,r,s},e=t([...a(48)(57),...a(65)(90),...a(97)(122)]),n=(a,t)=>{t&&0!==Object.keys(t).length||(t=JSON.parse($(a).find("script").text())),t.group||(t.group=e(20)),r(a,t),d(a,t),((a,t)=>{$(a).find(".masonry-item").on("mousedown",(a=>{console.log(a),$(a.target).trigger("resize")}))})(a)},r=(a,t)=>{$(a).find(".masonry-row").each(((a,e)=>{s(e,t)}))},s=(a,t)=>{let e=$(a).data("masonry-minheight");$(a).attr("id",t.group),$(a).css("height",e),m(a,t),i(a,t),d(a,t)},i=(a,t)=>{$(a).find(".masonry-item").each(((a,e)=>{o(e,t)}))},o=(a,t)=>{t.padding&&$(a).css("padding",t.padding),t.margin&&$(a).css("margin",t.margin);let n=$(a).data("masonry-width");$(a).css("width",`${n}%`);let r=e(20);$(a).attr("id",r)},d=(a,t)=>{let e={multiDrag:!1,selectedClass:"masonry-selected",fallbackTolerance:2,animation:150,swap:!1};t.group&&(e.group=t.group),new Sortable(a,e)},m=(a,t)=>{let e=[];$(a).find(".masonry-item").each(((a,t)=>{e.push($(t).data("masonry-width"))}));let n=e.reduce(((a,t)=>a+t));if(n<100){let t=100-n;$(a).find(".masonry-item").last().data("masonry-width",e[e.length-1]+t)}};jQuery.fn.extend({masonry:function(){var a;a={},$(this).find(".masonry-main").each(((t,e)=>{n(e,a)}))}}),$((()=>{$(document).masonry()})),Shiny.addCustomMessageHandler("masonry-init",(a=>{$(`#${a.target}`).masonry()}))})();